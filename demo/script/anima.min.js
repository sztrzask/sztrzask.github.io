function anima(){function g(){return n.options.canvas.getContext&&n.options.canvas.getContext("2d")}function l(n){var t=n>>31;return(n^t)-t}function a(i){if((!i.touches||i.touches[0].target.tagName.toLowerCase()==="canvas")&&i.target.tagName.toLowerCase()==="canvas"&&(i.preventDefault(),u=!0,i.touches?(t.x=i.touches[0].pageX-n.options.canvas.offsetLeft,t.y=i.touches[0].pageY-n.options.canvas.offsetTop):(t.x=i.pageX-n.options.canvas.offsetLeft,t.y=i.pageY-n.options.canvas.offsetTop),!!h)){var r=document.querySelector("audio.audio-2");r||(r=document.createElement("audio"),r.className="audio-2",r.removeAttribute("controls"),r.loop=!0,r.volume=1,o.appendChild(r),r.src="../audio/onTouch.mp3"),n.options.audio.pause(),r.play()}}function v(t){if(t.preventDefault(),u=!1,!!h){var i=document.querySelector("audio.audio-2");i.pause(),i.currentTime=0,n.options.audio.play()}}function nt(i){i.preventDefault(),!u||(t.x=i.pageX-n.options.canvas.offsetLeft,t.y=i.pageY-n.options.canvas.offsetTop)}function tt(i){i.preventDefault(),!u||(t.x=i.touches[0].pageX-n.options.canvas.offsetLeft,t.y=i.touches[0].pageY-n.options.canvas.offsetTop)}function it(){n.options.canvas=document.createElement("canvas"),n.options.box=document.createElement("div"),n.options.box.className="box",o.appendChild(n.options.canvas),o.appendChild(n.options.box),!g||(r=n.options.canvas.getContext("2d"),window.onresize=function(){n.options.canvas.width=window.innerWidth,n.options.canvas.height=window.innerHeight},"ontouchstart"in window?(document.addEventListener("touchstart",a,!1),document.addEventListener("touchend",v,!1),document.addEventListener("touchmove",tt,!1)):(document.addEventListener("mousedown",a,!1),document.addEventListener("mouseup",v,!1),document.addEventListener("mousemove",nt,!1))),p()}function p(){for(var t=0,i=n.options.maxParticles;t<i;t++){var r=10+(window.innerWidth||canvas.width)/i*t,u=(window.innerHeight||canvas.height)/2,f=~~(Math.random()*15);n.options.particles.push({x:r,y:u,goalX:r,goalY:u,top:4+Math.random()*-8,bottom:-15+Math.random()*-20,left:-15+Math.random()*-20,right:-5+Math.random()*-10,radius:f,color:n.options.colors[~~(Math.random()*n.options.colors.length)],clear:y,checkBounds:b,pulsate:ft,moveParticle:ut})}}function rt(){[].forEach.call(n.options.particles,function(n){r.save(),r.globalCompositeOperation="lighter",r.fillStyle=n.color,r.beginPath(),r.arc(n.x,n.y,n.radius,0,Math.PI*2),r.closePath(),r.fill(),r.restore()})}function w(){et(),rt(),requestAnimFrame(w)}function ut(n){var r=this,o,e;u?f=Math.min(f+5,2e3):(t.x=-99999,t.y=-99999,f=Math.max(f-5,0)),o=ot(r,t),e=(f+i)/o,r.x+=Math.cos(n)*e+(r.goalX-r.x)*.08,r.y+=Math.sin(n)*e+(r.goalY-r.y)*.08}function ft(){var n=this;n.radius*=.96,n.radius<=2&&(n.radius=~~(Math.random()*15))}function et(){n.currentNode===null&&(n.currentNode=n.nodeTree[0],n.updateBox(n.currentNode.message),s=+(new Date).getTime()),!n.currentNode.timeout||+(new Date).getTime()-s>n.currentNode.timeout&&(n.currentNode.then(n),e+=1,e===n.nodeTree.length&&(e=0),n.currentNode=n.nodeTree[e],n.updateBox(n.currentNode.message),s=+(new Date).getTime()),[].forEach.call(n.options.particles,function(i,r){i.clear();var u,f,e={x:(innerWidth||n.options.canvas.width)*.5,y:(innerHeight||n.options.canvas.height)*.5};u=Math.atan2(i.y-t.y,i.x-t.x),f=Math.PI*2*r/n.options.particles.length,i.moveParticle(u),i.pulsate(),n.currentNode.animation(n.knownFunctions,n.options.canvas,e,i,r,u,f)})}function ot(n,t){var i=l(n.x-t.x),r=l(n.y-t.y);return Math.sqrt(i*i+r*r)}var n=this,r,t={x:-99999,y:-99999},u=!1,f=0,i=500,s=+(new Date).getTime(),d=60,h=!1,e=0,o=document.querySelector("body"),c,y,b,k;return this.allowSwitchAudio=function(){h=!0},this.nodeTree=[],this.addNode=function(t,i,r){return n.nodeTree.push(new c(t,i,r)),n},c=function(n,t,i){return{message:n,timeout:t,animation:i,then:function(){}}},this.then=function(t){return t=t||function(){},n.nodeTree[n.nodeTree.length-1].then=t,n},this.options={particles:[],canvas:"",box:"",colors:[],audio:"",maxParticles:100},this.setMaxParticles=function(t){n.options.maxParticles=t,p()},this.setSoundtrack=function(t){var i=document.querySelector("audio");return i||(i=document.createElement("audio"),i.removeAttribute("controls"),i.loop=!0,i.volume=.5,o.appendChild(i)),i.src=t,n.options.audio=i,n},this.playMusic=function(){var t=document.querySelector("audio");return t.play(),n},this.setParticleColors=function(t){if(n.options.colors=t,n.options.particles.length)for(var i=0;i<n.options.particles.length;i++)n.options.particles[i].color=n.options.colors[~~(Math.random()*n.options.colors.length)];return n},this.setBackgroundColor=function(t,i){t=t||"#B1E5DF",i=i||"#68C0CC",n.options.canvas.width=window.innerWidth,n.options.canvas.height=window.innerHeight;return["","-webkit-","-moz-","-ms-","-o"].forEach(function(r){n.options.canvas.style.background=r+"radial-gradient("+t+", "+i+")"}),n},this.play=function(){return w(),n},this.currentNode=null,this.updateBox=function(t){n.options.box.innerHTML="<p><span>"+t+"<\/span><\/p>"},y=function(){var t=this,n=2*t.radius+4,i=n<<0===n?n:(n<<0)+1,u=t.x-n/2,f=t.y-n/2;r.clearRect(~~u,~~f,i,i)},b=function(){var t=this;t.x>n.options.canvas.width+t.radius*2&&(t.goalX=-t.radius,t.x=-t.radius),t.y>n.options.canvas.height+t.radius*2&&(t.goalY=-t.radius,t.y=-t.radius),t.x<-t.radius*2&&(t.radius*=4,t.goalX=n.options.canvas.width+t.radius,t.x=n.options.canvas.width+t.radius),t.y<-t.radius*2&&(t.radius*=4,t.goalY=n.options.canvas.height+t.radius,t.y=n.options.canvas.height+t.radius)},k=function(){this.devilsCurve=function(n,t,r,u,f,e){i=e||500;var o=Math.sqrt((Math.pow(Math.sin(r),2)-10*Math.pow(Math.cos(r),2))/(Math.pow(Math.sin(r),2)-Math.pow(Math.cos(r),2)));t.goalX=n.x+u*Math.cos(r)*o,t.goalY=n.y+f*Math.sin(r)*o},this.heartCurve=function(n,t,r,u){i=u||700,t.goalX=n.x+180*Math.pow(Math.sin(r),3),t.goalY=n.y+10*-(15*Math.cos(r)-5*Math.cos(2*r)-2*Math.cos(3*r)-Math.cos(4*r))},this.bottomToTop=function(n,t){i=t||2500,n.goalX+=n.top,n.goalY+=n.bottom,n.checkBounds()},this.rightToLeft=function(n,t){i=t||2500,n.goalX+=n.bottom,n.goalY+=n.top,n.checkBounds()},this.bottomRightToTopLeft=function(n,t){i=t||850,n.goalX+=n.left,n.goalY+=n.right,n.checkBounds()},this.circle=function(n,t,r,u,f){i=f||600,u=u||200,t.goalX=n.x+u*Math.cos(r),t.goalY=n.y+u*Math.sin(r)},this.spiral=function(n,t,r,u,f,e){i=e||725,u=u||.2,f=f||15;var o=r*u;t.goalX=n.x+o*f*Math.cos(o),t.goalY=n.y+o*f*Math.sin(o)},this.slowBidirectionalTopBottom=function(n,t){i=t||1500,n.goalX+=n.top,n.goalY+=n.top,n.checkBounds()},this.fastBottomRightToTopLeft=function(n,t){i=t||1500,n.goalX+=n.bottom,n.goalY+=n.bottom,n.checkBounds()},this.vaginaCurve=function(n,t,r,u,f){u=u||200,i=f||500,t.goalX=n.x+u*Math.cos(r),t.goalY=n.y+u*Math.tan(r)},this.straightLine=function(n,t,r,u){i=u||500,t.goalX=10+n.width/100*r,t.goalY=n.height/2}},this.knownFunctions=new k,window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/d)}}(),it(),n}
//@ sourceMappingURL=anima.min.js.map